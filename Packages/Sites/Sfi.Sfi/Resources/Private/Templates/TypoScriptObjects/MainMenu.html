{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}

<div class="MainMenu">
	<a href="#menu" class="show-for-medium-up MainMenu-Toggle float-left js-MainMenu-Toggle">
		<div class="IconMenu">
			<img alt="Меню" src="/_Resources/Static/Packages/Sfi.Sfi/Images/IconMenu.svg">
		</div>
	</a>
	<ul class="MainMenu-Wrap overflow-hidden">
		<f:for each="{items}" as="item" iteration="iterator">
			<li class="MainMenu-Column {f:if(condition:iterator.isLast,then:'end')} {ts:render(path:'{item.state}.attributes.class', context: {item: item}) -> f:format.raw()}" >
				<div class="MainMenu-Item {ts:render(path:'{item.state}.attributes.class', context: {item: item}) -> f:format.raw()} Service lineHeight-single marginTop-single">
					<neos:link.node node="{item.node}"/>
				</div>
				<f:if condition="{item.subItems}">
					<div class="MainMenu-Toggle">
						<f:for each="{item.subItems}" as="subItem">
							<div class="MainMenu-SubItem ParagraphAlt--Small marginVertical-single {ts:render(path:'{subItem.state}.attributes.class', context: {item: subItem}) -> f:format.raw()}">
								<neos:link.node node="{subItem.node}" />
							</div>
						</f:for>
					</div>
				</f:if>
			</li>
		</f:for>
	</ul>
</div>
