{namespace neos=Neos\Neos\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}

<ul class="MainMenu">
	<f:for each="{items}" as="item" iteration="iterator">
		<li class="MainMenu-Column {f:if(condition:iterator.isLast,then:'end')} {ts:render(path:'{item.state}.attributes.class', context: {item: item}) -> f:format.raw()}" >
			<div class="MainMenu-Item Paragraph--Large lineHeight-single marginVertical-half {ts:render(path:'{item.state}.attributes.class', context: {item: item}) -> f:format.raw()}">
				<neos:link.node node="{item.node}"/>
			</div>
			<f:if condition="{item.subItems}">
				<div class="MainMenu-SubItems">
					<f:for each="{item.subItems}" as="subItem">
						<div class="MainMenu-SubItem ParagraphAlt marginVertical-single {ts:render(path:'{subItem.state}.attributes.class', context: {item: subItem}) -> f:format.raw()}">
							<neos:link.node node="{subItem.node}" />
						</div>
					</f:for>
				</div>
			</f:if>
		</li>
	</f:for>
</ul>
